import{U as e,c as t,d as o,C as i,a8 as r,o as n,e as s,w as l,i as p,f as a,t as u,k as g,q as c,u as d,v as m,Q as x,ao as h}from"./index-c87fa551.js";import{p as f}from"./index.52fd992b.js";import{b as y}from"./iM.bd32fb6a.js";import{_ as F}from"./newback.d745f51c.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./index.befce884.js";const _=C({data:()=>({groupname:"",introduction:"",imgurl:"",imgurl2:"",titleing:!1,contenting:!1,imging:!1,upload:!0,length:0,imageStyles:{width:" 136rpx",height:"126rpx"}}),methods:{getlenth(e){this.length=e.detail.cursor},back(){e({delta:1})},preserve(){""!==this.imgurl&&(this.upload=!1,this.imging=!1),""!==this.groupname&&(this.titleing=!1),""!==this.introduction&&(this.contenting=!1),""!=this.imgurl?""!=this.groupname?""!=this.introduction?t("/Group/CreateFunsGroup",{User_Id:this.$store.state.userInfo.User_Id,Group_Img:this.imgurl2,Group_Name:this.groupname,Group_Introduction:this.introduction}).then((e=>{200==e.Code?(o({title:"已保存",icon:"success",duration:2e3}),console.log("preserve",e),this.groupname="",this.introduction="",this.imgurl="",y(String(e.Result.GroupId),"group","欢迎来到粉丝群",(e=>{})),i({url:"/pages/TUIKit/TUIPages/TUIConversation/index"})):(this.groupname="",this.introduction="",this.imgurl="",o({title:e.Message,icon:"none"}))})):this.contenting=!0:this.titleing=!0:this.imging=!0},openChooseImg(e){r({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{console.log(e),this.imgurl=e.tempFilePaths[0],f(e.tempFilePaths[0]).then((e=>{console.log(e),this.imgurl2=e})).catch((e=>{console.error(e)}))}})}}},[["render",function(e,t,o,i,r,f){const y=m,C=p,_=x,b=h;return n(),s(C,{class:"box"},{default:l((()=>[a(C,{class:"header"},{default:l((()=>[a(C,{style:{display:"flex","align-items":"center","justify-content":"center","padding-top":"116rpx"}},{default:l((()=>[a(y,{onClick:t[0]||(t[0]=e=>f.back()),src:F,style:{width:"40rpx",height:"40rpx",position:"absolute",left:"20rpx"}}),u("p",{style:{"font-size":"32rpx",color:"#333333"}},"创建群聊")])),_:1})])),_:1}),a(C,{class:"content"},{default:l((()=>[a(C,{style:{padding:"40rpx 302rpx","background-color":"#FFFFFF",display:"flex","flex-direction":"column","align-items":"center"}},{default:l((()=>[r.imgurl?(n(),s(y,{key:1,src:r.imgurl,style:{width:"134rpx",height:"126rpx","margin-left":"10rpx"}},null,8,["src"])):(n(),s(y,{key:0,src:"/assets/addgroupimg-8d344bb7.png",style:{width:"134rpx",height:"126rpx","margin-left":"10rpx"},onClick:f.openChooseImg},null,8,["onClick"])),r.upload?(n(),g("p",{key:2,style:{"font-size":"28rpx",color:"#9EA2AF"}},"上传群头像")):c("",!0),r.imging?(n(),g("p",{key:3,style:{"font-size":"28rpx",color:"#FC683E","margin-top":"10rpx","white-space":"nowrap"}}," 群头像不能为空")):c("",!0)])),_:1}),a(C,{style:{display:"flex","flex-direction":"column",padding:"30rpx 30rpx 10px 30rpx","background-color":"#FFFFFF","margin-top":"20rpx"}},{default:l((()=>[a(C,{style:{display:"flex","align-items":"center"}},{default:l((()=>[u("p",{style:{"font-size":"28rpx",color:"#333333"}},"群名称"),a(_,{modelValue:r.groupname,"onUpdate:modelValue":t[1]||(t[1]=e=>r.groupname=e),type:"text",placeholder:"给你的群取个名字吧",style:{"font-size":"28rpx",color:"#C0C2CB","margin-left":"40rpx"}},null,8,["modelValue"])])),_:1}),r.titleing?(n(),g("p",{key:0,style:{"font-size":"28rpx",color:"#FC683E","margin-top":"10rpx","margin-left":"125rpx"}}," 群名称不能为空")):c("",!0)])),_:1}),a(C,{style:{"background-color":"#FFFFFF"}},{default:l((()=>[a(C,{style:{"border-bottom":"1rpx solid #E7E9EE",padding:"30rpx 30rpx 0 30rpx","background-color":"#FFFFFF","margin-top":"20rpx",display:"flex","justify-content":"space-between"}},{default:l((()=>[a(C,null,{default:l((()=>[u("p",{style:{"font-size":"28rpx",color:"#333333"}},"群简介"),a(b,{modelValue:r.introduction,"onUpdate:modelValue":t[2]||(t[2]=e=>r.introduction=e),type:"text",maxlength:"200",onInput:f.getlenth,placeholder:"请简单介绍一下你的群吧~~",style:{"font-size":"28rpx",color:"#C0C2CB","margin-top":"36rpx"},bindinput:"inputs"},null,8,["modelValue","onInput"])])),_:1}),u("p",{style:{"font-size":"24rpx",color:"#C0C2CB","margin-top":"258rpx"}},d(r.length)+"/200",1)])),_:1}),r.contenting?(n(),g("p",{key:0,style:{"font-size":"28rpx",color:"#FC683E","margin-top":"10rpx","margin-left":"30rpx"}}," 群简介不能为空")):c("",!0)])),_:1})])),_:1}),a(C,{class:"foot",style:{position:"fixed",bottom:"20rpx"}},{default:l((()=>[a(C,{style:{height:"88rpx",width:"100vw",background:"#FC683E","border-radius":"44rpx","font-size":"32rpx",color:"#FFFFFF","text-align":"center","line-height":"88rpx"}},{default:l((()=>[u("p",{onClick:t[3]||(t[3]=e=>f.preserve())},"保存")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-99c57a88"]]);export{_ as default};
