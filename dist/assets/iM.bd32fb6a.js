import{g as e,a as s,_ as t,R as a}from"./index-c87fa551.js";import"./index.befce884.js";const o=(a,o)=>{""!==a&&null!=a||(e("匿名")?a=e("匿名"):(a="匿名"+(1e9*Math.random(1,10)).toFixed(0),s("匿名",a))),console.log(a,"=========================userID=========================");const n=t({userID:String(a),SDKAppID:1400813717,secretKey:"c74d2910cc6c7180b015d75d44e73ba0af399d5f3e3d159c6d09bd5903ff01a0"}).userSig;uni.$TUIKit.login({userID:String(a),userSig:n}).then((e=>{console.log("TUIKit登录返回",e),o(e)}))},n=(e,s)=>{uni.$TUIKit.joinGroup({groupID:e,type:a.TYPES.AVChatRoom}).then((e=>{switch(e.data.status){case a.TYPES.JOIN_STATUS_WAIT_APPROVAL:return void console.log(e);case a.TYPES.JOIN_STATUS_SUCCESS:return void s(e.data.group);case a.TYPES.JOIN_STATUS_ALREADY_IN_GROUP:return void console.log(e)}}))},i=(e,s,t,o)=>{let n=uni.$TUIKit.createCustomMessage({to:e,conversationType:"group"===s?a.TYPES.CONV_GROUP:a.TYPES.CONV_C2C,payload:{data:JSON.stringify(t),description:"",extension:""}});uni.$TUIKit.sendMessage(n).then((e=>{o(e.data)})).catch((e=>{console.warn("sendMessage error:",e)}))},r=(e,s,t,o)=>{let n=uni.$TUIKit.createTextMessage({to:e,conversationType:"group"===s?a.TYPES.CONV_GROUP:a.TYPES.CONV_C2C,payload:{text:t},needReadReceipt:!0});uni.$TUIKit.sendMessage(n).then((e=>{o(e)})).catch((e=>{console.warn("sendMessage error:",e)}))},c=(e,s,t,o,n)=>{let i=uni.$TUIKit.createFaceMessage({to:e,conversationType:"group"===s?a.TYPES.CONV_GROUP:a.TYPES.CONV_C2C,payload:{index:t,data:o}});uni.$TUIKit.sendMessage(i).then((e=>{n(e)})).catch((e=>{console.warn("sendMessage error:",e)}))},d=(e,s,t)=>{uni.$TUIKit.getMessageList({conversationID:`${e}${s}`}).then((e=>{t(e.data.messageList)}))},T=()=>{uni.$TUIKit.logout().then((function(e){})).catch((function(e){console.warn("logout error:",e)}))};export{c as a,r as b,T as c,d as g,n as j,o as l,i as s};
