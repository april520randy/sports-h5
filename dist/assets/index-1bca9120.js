import{a as k,d as x,r as K,aj as M,I as W,t as S,h as o,i as O,e as w,ak as Y,al as j,u as q,b as p,f as J,am as Q,a1 as N,an as V,Q as G,ao as X,J as Z,K as ee,ap as te,M as ne,m as R,p as oe,a3 as ae,Y as le,aq as se,ar as E,as as ce,at as re,au as ie,av as ue,a6 as de,aw as fe,ax as me}from"./index-4a568665.js";import{B as A}from"./index-d07e70c9.js";const[H,I]=k("action-bar"),z=Symbol(H),Be={placeholder:Boolean,safeAreaInsetBottom:S};var ge=x({name:H,props:Be,setup(e,{slots:a}){const n=K(),l=M(n,I),{linkChildren:s}=W(z);s();const d=()=>{var c;return o("div",{ref:n,class:[I(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(c=a.default)==null?void 0:c.call(a)])};return()=>e.placeholder?l(d):d()}});const Ce=O(ge),[he,be]=k("action-bar-button"),we=w({},Y,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var ve=x({name:he,props:we,setup(e,{slots:a}){const n=j(),{parent:l,index:s}=q(z),d=p(()=>{if(l){const r=l.children[s.value-1];return!(r&&"isButton"in r)}}),c=p(()=>{if(l){const r=l.children[s.value+1];return!(r&&"isButton"in r)}});return J({isButton:!0}),()=>{const{type:r,icon:B,text:g,color:h,loading:C,disabled:b}=e;return o(A,{class:be([r,{last:c.value,first:d.value}]),size:"large",type:r,icon:B,color:h,loading:C,disabled:b,onClick:n},{default:()=>[a.default?a.default():g]})}}});const $=O(ve),[ye,F]=k("tag"),Pe={size:String,mark:Boolean,show:S,type:N("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var Se=x({name:ye,props:Pe,emits:["close"],setup(e,{slots:a,emit:n}){const l=c=>{c.stopPropagation(),n("close",c)},s=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},d=()=>{var c;const{type:r,mark:B,plain:g,round:h,size:C,closeable:b}=e,v={mark:B,plain:g,round:h};C&&(v[C]=C);const T=b&&o(G,{name:"cross",class:[F("close"),V],onClick:l},null);return o("span",{style:s(),class:F([v,r])},[(c=a.default)==null?void 0:c.call(a),T])};return()=>o(Q,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?d():null]})}});const $e=O(Se),[ke,u,P]=k("dialog"),xe=w({},X,{title:String,theme:String,width:Z,message:[String,Function],callback:Function,allowHtml:Boolean,className:ee,transition:N("van-dialog-bounce"),messageAlign:String,closeOnPopstate:S,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:S,closeOnClickOverlay:Boolean}),Te=[...te,"transition","closeOnPopstate"];var _e=x({name:ke,props:xe,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:a,slots:n}){const l=K(),s=ne({confirm:!1,cancel:!1}),d=t=>a("update:show",t),c=t=>{var i;d(!1),(i=e.callback)==null||i.call(e,t)},r=t=>()=>{e.show&&(a(t),e.beforeClose?(s[t]=!0,ue(e.beforeClose,{args:[t],done(){c(t),s[t]=!1},canceled(){s[t]=!1}})):c(t))},B=r("cancel"),g=r("confirm"),h=se(t=>{var i,f;if(t.target!==((f=(i=l.value)==null?void 0:i.popupRef)==null?void 0:f.value))return;({Enter:e.showConfirmButton?g:E,Escape:e.showCancelButton?B:E})[t.key](),a("keydown",t)},["enter","esc"]),C=()=>{const t=n.title?n.title():e.title;if(t)return o("div",{class:u("header",{isolated:!e.message&&!n.default})},[t])},b=t=>{const{message:i,allowHtml:f,messageAlign:m}=e,y=u("message",{"has-title":t,[m]:m}),_=ce(i)?i():i;return f&&typeof _=="string"?o("div",{class:y,innerHTML:_},null):o("div",{class:y},[_])},v=()=>{if(n.default)return o("div",{class:u("content")},[n.default()]);const{title:t,message:i,allowHtml:f}=e;if(i){const m=!!(t||n.title);return o("div",{key:f?1:0,class:u("content",{isolated:!m})},[b(m)])}},T=()=>o("div",{class:[ie,u("footer")]},[e.showCancelButton&&o(A,{size:"large",text:e.cancelButtonText||P("cancel"),class:u("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o(A,{size:"large",text:e.confirmButtonText||P("confirm"),class:[u("confirm"),{[re]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]),L=()=>o(Ce,{class:u("footer")},{default:()=>[e.showCancelButton&&o($,{type:"warning",text:e.cancelButtonText||P("cancel"),class:u("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o($,{type:"danger",text:e.confirmButtonText||P("confirm"),class:u("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]}),U=()=>n.footer?n.footer():e.theme==="round-button"?L():T();return()=>{const{width:t,title:i,theme:f,message:m,className:y}=e;return o(le,R({ref:l,role:"dialog",class:[u([f]),y],style:{width:ae(t)},tabindex:0,"aria-labelledby":i||m,onKeydown:h,"onUpdate:show":d},oe(e,Te)),{default:()=>[C(),v(),U()]})}}});let D;const Ae={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let De=w({},Ae);function Oe(){({instance:D}=fe({setup(){const{state:a,toggle:n}=me();return()=>o(_e,R(a,{"onUpdate:show":n}),null)}}))}function pe(e){return de?new Promise((a,n)=>{D||Oe(),D.open(w({},De,e,{callback:l=>{(l==="confirm"?a:n)(l)}}))}):Promise.resolve()}const Fe=e=>pe(w({showCancelButton:!0},e));export{$e as T,Fe as s};
