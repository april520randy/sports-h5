import{c as t,d as e,U as a,g as s,n as i,o as l,e as o,w as n,i as d,f as r,j as c,k as h,l as p,F as f,q as _,v as u,x as g,A as x,u as m,J as w,D as y}from"./index-c87fa551.js";import{_ as A}from"./newback.d745f51c.js";import{a as k,_ as C}from"./xin2.ab47a951.js";import{_ as I}from"./clear.f3fd5d2c.js";import{_ as L}from"./_plugin-vue_export-helper.1b428a4d.js";const v=L({data:()=>({show:!1,searchvalue:"",clean:!1,index:0,list:["全部","直播中"],tatal:0,data:{User_Id:"",IsLive:0,Page:1,Limit:10},dataList:[]}),onLoad(){this.data.User_Id=this.$store.state.userInfo.User_Id,console.log(this.$store.state.userInfo.User_Id)},onShow(){this.getList()},methods:{getList(){console.log(this.data,this.dataList.length),t("/History/GetWatch_HistoryList",this.data).then((t=>{this.tatal=t.Count,this.dataList.length<t.Count?this.dataList=this.dataList.concat(t.Data):this.dataList=t.Data,this.dataList.forEach((t=>{t.Watch_Time1=t.Watch_Time.slice(5,10),t.Watch_Time2=t.Watch_Time.slice(11,16),console.log()}))}))},record(a,s){console.log(a,"======="),t("/Immediately/Collect_Match",{Match_Id:a.Match_Id,User_Id:this.data.User_Id,Type:0==a.IsCollect?1:0}).then((t=>{this.dataList[s].IsCollect=0==a.IsCollect?1:0,e({title:0==a.IsCollect?"取消收藏":"收藏成功",icon:"none"})}))},back(){a(-1)},change(t){this.dataList=[],this.index=t,this.data.IsLive=t,this.data.Page=1,this.data.Limit=10,this.getList()},submit(){t("/History/ClearWatch_History",{User_Id:this.data.User_Id}).then((t=>{this.getList(),this.clean=!1}))},toBroadcast(t){if(console.log(t),1!=t.IsLive)return;1==s("Animation_State")?this.Animation_State=2:this.Animation_State=1;const{Anchoer_Id:e,Match_Id:a}=t;i({url:`/pages/liveView/broadcast/index?Match_Id=${a}&activeIndex=${this.Animation_State}`})}},onPageScroll(t){t.scrollTop>60?this.show=!0:this.show=!1},onReachBottom(){this.dataList.length<this.tatal?(this.data.Page++,this.getList()):console.log(123)}},[["render",function(t,e,a,s,i,L){const v=u,b=d,T=g("var-app-bar"),B=y;return l(),o(b,{style:{"background-color":"#F4F4F5","min-height":"100vh"}},{default:n((()=>[r(T,{color:"#fff",style:{border:"none",position:"fixed",top:"0","z-index":"2","background-color":"#fff"},round:"",elevation:!1},{content:n((()=>[r(b,{class:"nav"},{default:n((()=>[r(v,{onClick:L.back,style:{width:"40rpx",height:"40rpx","margin-left":"20rpx"},src:A,mode:"widthFix"},null,8,["onClick"]),r(b,{class:"navtitle"},{default:n((()=>[c("观看历史")])),_:1}),r(b,{class:"qk",onClick:e[0]||(e[0]=t=>i.clean=!0)},{default:n((()=>[c("清空")])),_:1})])),_:1}),r(b,{class:"title"},{default:n((()=>[(l(!0),h(f,null,p(i.list,((t,e)=>(l(),o(b,{class:x({content1:i.index==e,content:i.index!=e}),onClick:t=>L.change(e),key:e,style:{margin:"0 70rpx"}},{default:n((()=>[c(m(t),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),r(b,{style:{height:"280rpx"}}),(l(!0),h(f,null,p(i.dataList,((t,e)=>(l(),o(b,{class:"list",onClick:e=>L.toBroadcast(t)},{default:n((()=>[r(b,{class:"listimg"},{default:n((()=>[r(v,{style:{width:"208rpx",height:"120rpx"},src:t.Img},null,8,["src"]),1==t.IsLive?(l(),o(b,{key:0,class:"fixed"},{default:n((()=>[r(b,null,{default:n((()=>[c("直播中")])),_:1})])),_:1})):_("",!0)])),_:2},1024),r(b,{class:"listcontent"},{default:n((()=>[r(b,{style:{"font-size":"28rpx",color:"#333333",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",width:"88%",display:"flex","align-items":"center","font-weight":"500"}},{default:n((()=>[r(B,{style:{display:"inline-block",width:"200rpx",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:n((()=>[c(m(t.Competition_Name),1)])),_:2},1024),c("   "),r(B,{style:{display:"inline-block",width:"130rpx",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:n((()=>[c(m(t.Home_team_Name),1)])),_:2},1024),c("VS "),r(B,{style:{display:"inline-block",width:"100rpx",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:n((()=>[c(m(t.Away_team_Name),1)])),_:2},1024)])),_:2},1024),r(b,{style:{display:"flex","align-items":"center","font-size":"24rpx",margin:"8rpx 0"}},{default:n((()=>[r(b,null,{default:n((()=>[1==t.Category_id?(l(),o(B,{key:0},{default:n((()=>[c("足球")])),_:1})):_("",!0),2==t.Category_id?(l(),o(B,{key:1},{default:n((()=>[c("篮球")])),_:1})):_("",!0)])),_:2},1024),r(b,{style:{width:"0px",height:"20rpx","border-left":"1rpx solid #8E92A4",margin:"0 14rpx"}}),r(b,null,{default:n((()=>[c("主播："+m(t.Anchoer_Name),1)])),_:2},1024)])),_:2},1024),r(b,{style:{display:"flex","align-items":"center","font-size":"24rpx"}},{default:n((()=>[r(v,{style:{width:"20rpx",height:"20rpx"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAKdJREFUKFPV0LEJAkEQBdD/OS5RUC+wBDETBGvQFgQDMbmdBixB2NTkYBdDMTK3CBELETND4cuKHmoHTjAw8PjwhwBQVdUgy7KDpBvJnaQuyZmko5mNk2FaIYQ5gBHJfbrfI2njnOt9QZKdsizXnzCEcHbODf8OSlqRvPy07ptZoy4TY0w/277QBMACwFTS3czyGnrv20VRLAE0JV1JtgDkkk5m9gx4AJzjYwuUSLQeAAAAAElFTkSuQmCC",mode:"widthFix"}),r(b,null,{default:n((()=>[c(m(t.Watch_Time1)+" "+m(t.Watch_Time2),1)])),_:2},1024)])),_:2},1024),0==t.IsCollect?(l(),o(v,{key:0,style:{width:"28rpx",height:"28rpx",position:"absolute",bottom:"10rpx",right:"60rpx"},onClick:w((a=>L.record(t,e)),["stop"]),src:k,mode:"widthFix"},null,8,["onClick"])):_("",!0),1==t.IsCollect?(l(),o(v,{key:1,style:{width:"28rpx",height:"28rpx",position:"absolute",bottom:"10rpx",right:"60rpx"},onClick:w((a=>L.record(t,e)),["stop"]),src:C,mode:"widthFix"},null,8,["onClick"])):_("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),256)),i.clean?(l(),o(b,{key:0,class:"clean"},{default:n((()=>[r(b,{class:"cleancontent"},{default:n((()=>[r(b,{style:{color:"#333333","font-size":"30rpx",margin:"60rpx auto"}},{default:n((()=>[c("确定清空所有观看记录？")])),_:1}),r(b,{class:"foot"},{default:n((()=>[r(b,{class:"left",onClick:e[1]||(e[1]=t=>i.clean=!1)},{default:n((()=>[c("取消")])),_:1}),r(b,{class:"right",onClick:L.submit},{default:n((()=>[c("确定")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):_("",!0),0==i.dataList.length?(l(),o(b,{key:1,style:{"text-align":"center"}},{default:n((()=>[r(v,{style:{"margin-top":"180px",width:"420rpx",height:"420rpx"},src:I}),r(b,{style:{"font-size":"13px","font-weight":"400",color:"#9EA2AF"}},{default:n((()=>[c("暂无数据~")])),_:1})])),_:1})):_("",!0)])),_:1})}],["__scopeId","data-v-2fb43ad5"]]);export{v as default};
