import{T as t,h as e,g as a,a as s,r as o,c as i,s as n,b as l,n as r,o as h,e as c,w as d,i as g,f as p,k as u,l as f,F as m,m as _,q as y,x,y as b,z as I,A as k,j as v,u as w,t as T,v as D,B as L}from"./index-c87fa551.js";import{_ as C}from"./m-tabbar.18a875e0.js";import{r as z}from"./uni-app.es.d136296e.js";import{_ as N}from"./_plugin-vue_export-helper.1b428a4d.js";import"./pages.af45dffb.js";const S=N({data:()=>({New_State:0,tabbar:t,show:!1,headers:[],activeIndex:0,autoplay:!1,LBlist:[],choose:0,Page:1,Limit:10,tatal:0,card:[],content:"",id:"",Info_Type:"",current:1,key:""}),onShow(){e(),console.log(a("New_State")),1==a("New_State")&&(this.New_State=1,this.current=1),this.gettype(),this.getLBlist()},onPullDownRefresh(){this.xzinit(this.key)},onReachBottom(){console.log(this.card.length,this.tatal),this.card.length<this.tatal?(this.page++,this.xzinit(this.key)):console.log(123)},onPageScroll(t){t.scrollTop>0?this.show=!0:this.show=!1},methods:{saveData(t,e){console.log(e,"saveData"),s(t,JSON.stringify(e))},getData(t){let e=null;return a(t)&&(e=JSON.parse(a(t))||null),null===e&&o(t),e},gettype(){i("/Information/GetInfo_Type_List").then((t=>{console.log(t),0==this.choose&&(this.headers=t.Result,this.Info_Type=t.Result[0].Info_Type_Id,this.key=t.Result[0].Info_Type_Name+"ZX",console.log(this.key),null!==this.getData(this.key)?(console.log(111),this.xzinit(this.Info_Type)):n())}))},getLBlist(){i("/Information/GetRotation_List").then((t=>{console.log(t),this.LBlist=t.Result}))},xzinit(t){console.log(this.Info_Type),i("/Information/GetInformation_List",{Page:this.Page,Limit:this.Limit,Info_Type:this.Info_Type}).then((e=>{console.log(e),this.content="",this.id="",this.tatal=e.Count,e.Data.length>0&&(this.content=e.Data[0].Information_Title,this.id=e.Data[0].Information_Id),this.card.length<e.Count?(this.card=this.card.concat(e.Data),this.saveData(t,this.card)):(this.card=e.Data,this.saveData(t,this.card)),l()}))},headerFn(t,e){this.card=[],this.Page=1,this.tatal=0,this.choose=t,this.Info_Type=e.Info_Type_Id,this.key=e.Info_Type_Name+"ZX",null!==this.getData(this.key)?(console.log(111),n()):n()},messagecontent(t){console.log(t.Information_Id),r({url:"/pages/messagecontent/index?id="+t.Information_Id})},messagecontent2(){r({url:"/pages/messagecontent/index?id="+this.id})},tabClick(t,e){console.log("tabClick",t,e)},tabChange(t,e){console.log("tabChange",t,e)}}},[["render",function(t,e,a,s,o,i){const n=g,l=x("var-app-bar"),r=D,N=L,S=b,B=z(I("m-tabbar"),C);return h(),c(n,{class:"box",style:{"background-color":"#F4F4F5","min-height":"100vh"}},{default:d((()=>[p(l,{style:{border:"none",position:"fixed",top:"0","z-index":"2"},round:"",image:"/static/image/zxx.png",elevation:!1},{content:d((()=>[p(n,{style:{display:"flex","align-items":"center","justify-content":"flex-start",height:"86rpx"}},{default:d((()=>[(h(!0),u(m,null,f(o.headers,((t,e)=>(h(),c(n,{onClick:a=>i.headerFn(e,t),class:k(o.choose==e?"items":"item"),key:e},{default:d((()=>[v(w(t.Info_Type_Name),1)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),p(n,{class:"middle",style:_([{"background-position":"top center","background-size":"100% 420rpx","background-repeat":"no-repeat"},{backgroundImage:o.LBlist.length>0?"url(/static/image/zxx.png)":""}])},{default:d((()=>[p(n,{style:{height:"276rpx","border-radius":"24rpx","margin-bottom":"18rpx"}},{default:d((()=>[p(S,{style:{height:"276rpx","border-radius":"24rpx"},circular:"","indicator-dots":t.indicatorDots,autoplay:o.autoplay,interval:t.interval,duration:t.duration},{default:d((()=>[(h(!0),u(m,null,f(o.LBlist,((t,e)=>(h(),c(N,{style:{"border-radius":"24rpx"},key:e},{default:d((()=>[p(r,{style:{"border-radius":"24rpx",width:"100%",height:"100%"},src:t.Info_Rotation_Img,mode:"aspectFill"},null,8,["src"])])),_:2},1024)))),128))])),_:1},8,["indicator-dots","autoplay","interval","duration"])])),_:1})])),_:1},8,["style"]),p(n,{class:"foot"},{default:d((()=>[(h(!0),u(m,null,f(o.card,((t,e)=>(h(),c(n,{onClick:e=>i.messagecontent(t),class:"content",key:e},{default:d((()=>[T("p",{style:{"font-size":"28rpx",color:"#333333",flex:"1",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},w(t.Information_Title),1),p(r,{src:t.CoverImg,style:{width:"212rpx",height:"120rpx","border-radius":"8rpx","margin-left":"46rpx"}},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1}),1==o.New_State?(h(),c(B,{key:0,fixed:"",fill:"",current:"1",tabbar:o.tabbar},null,8,["tabbar"])):y("",!0)])),_:1})}],["__scopeId","data-v-3d458ead"]]);export{S as default};
